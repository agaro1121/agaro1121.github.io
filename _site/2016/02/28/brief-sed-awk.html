<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Brief Sed & Awk</title> <meta name="description" content="Sedsed, from Stream EDitor, is a command that is used to perform transformations on text. It works from the command line and processes text via standard in a..."> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="http://yourdomain.com/2016/02/28/brief-sed-awk.html"> <link rel="alternate" type="application/rss+xml" title="Hierro's Blog" href="http://yourdomain.com/feed.xml"> <script src="/assets/js/modernizr.js"></script> </head> <body"> <main class="wrapper"> <header class="site-header"> <a href="#navbar" id="menu-burger" class="menu-burger">Menu <span class="nav-icon"></span> <svg x="0px" y="0px" width="54px" height="54px" viewBox="0 0 54 54"> <circle fill="transparent" stroke="#000000" stroke-width="1" cx="27" cy="27" r="25" stroke-dasharray="157 157" stroke-dashoffset="157"></circle> </svg> </a> <div id="navbar" class="navbar"> <div class="navigation-wrapper"> <div class="half-block"> <h2>Navigation</h2> <nav> <ul class="primary-nav"> <li><a href="/">Home</a></li> <li><a href="/blog">Blog</a></li> <li><a href="/about">About</a></li> <li><a href="http://github.com/agaro1121" target="_blank"><i class="icon icon-github"></i> Github</a></li> <li><a href="http://twitter.com/dametisbrown" target="_blank"><i class="icon icon-twitter"></i> Twitter</a></li> <li><a href="/feed.xml" target="_blank"><i class="icon icon-feed"></i> RSS</a></li> </ul> </nav> </div> </div> </div> </header> <article class="post" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header intro"> <div class="intro-in"> <h1 class="post-title" itemprop="name headline">Brief Sed & Awk</h1> <p class="post-meta"><time datetime="2016-02-28T19:04:00-05:00" itemprop="datePublished">Feb 28, 2016</time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Anthony Garo</span></span></p> </div> </header> <div class="post-content container" itemprop="articleBody"> Sed<br/><span style="font-family: Arial, Helvetica, sans-serif;"><code style="background-color: white; font-size: 15px; text-indent: 0.00266667px;">sed</code><a href="https://www.blogger.com/null" name="from Stream" style="background-color: white; color: #e98300; font-size: 15px; text-indent: 0.00266667px; transition: color 0.2s ease-out;"></a><span style="background-color: white; font-size: 15px; text-indent: 0.00266667px;">, from Stream EDitor, is a command that is used to perform transformations on text. It works from the command line and processes text via standard in and standard out. It does not modify the original input and does not save the output unless you redirect that output to a file</span></span> <br/><span style="background-color: white; font-family: verdana, sans-serif; font-size: 15px; text-indent: 0.00266667px;"><br/></span> <span style="background-color: white; font-family: verdana, sans-serif; font-size: 15px; text-indent: 0.00266667px;">Examples:</span> <br/><span class="epub__EmpStrong" style="background-color: white; font-family: 'Courier New Bold', monospace; font-size: 13.2px; font-weight: bold;">sed</span> <span style="background-color: white; font-family: 'Courier New', monospace; font-size: 13.2px;">&nbsp;</span><span class="epub__BoldItalic" style="background-color: white; font-family: 'Courier New Bold Italic', monospace; font-size: 13.2px; font-style: italic; font-weight: bold;">sedcommand inputfile&nbsp;</span> <br/><span class="epub__BoldItalic" style="background-color: white; font-size: 13.2px; font-style: italic; font-weight: bold;"><span class="epub__EmpStrong" style="font-family: 'Courier New Bold', monospace; font-size: 13.2px; font-style: normal;">sed -e</span><span style="font-family: 'Courier New', monospace; font-size: 13.2px; font-style: normal; font-weight: normal;">&nbsp;</span><span class="epub__BoldItalic" style="font-size: 13.2px;"><span style="font-family: Courier New Bold Italic, monospace;">sedcommand inputfile </span><span style="font-family: Arial, Helvetica, sans-serif;">#</span></span></span><span style="background-color: white; font-size: 15px; text-indent: 0.00266667px;"><span style="font-family: Arial, Helvetica, sans-serif;">does the same thing as above, except that it specifically denotes the command to run</span></span> <br/><span class="epub__BoldItalic" style="background-color: white; font-family: 'Courier New Bold Italic', monospace; font-size: 13.2px; font-style: italic; font-weight: bold;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span class="epub__EmpStrong" style="font-family: 'Courier New Bold', monospace; font-size: 13.2px; font-style: normal;">sed -e</span><span style="font-family: 'Courier New', monospace; font-size: 13.2px; font-style: normal; font-weight: normal;">&nbsp;</span><span class="epub__BoldItalic" style="font-size: 13.2px;">sedcommand -e anothersedcommand inputfile</span></span></span><br/><span class="epub__BoldItalic" style="background-color: white; font-size: 13.2px; font-style: italic; font-weight: bold;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span style="font-family: Arial, Helvetica, sans-serif;"><br/></span></span></span></span><span class="epub__BoldItalic" style="background-color: white; font-size: 13.2px; font-style: italic; font-weight: bold;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span style="font-family: Arial, Helvetica, sans-serif;"><span style="font-size: 15px; font-style: normal; font-weight: normal; text-indent: 0.00266667px;">Let’s say I want to change every instance of&nbsp;</span><em style="font-size: 15px; font-weight: normal; text-indent: 0.00266667px;">camel</em><span style="font-size: 15px; font-style: normal; font-weight: normal; text-indent: 0.00266667px;">&nbsp;in the text file transportation.txt to&nbsp;</span><em style="font-size: 15px; font-weight: normal; text-indent: 0.00266667px;">dune buggy</em><span style="font-size: 15px; font-style: normal; font-weight: normal; text-indent: 0.00266667px;">. Here is how to do that:</span></span></span></span></span> <br/><span class="epub__BoldItalic" style="background-color: white; font-family: 'Courier New Bold Italic', monospace; font-size: 13.2px; font-style: italic; font-weight: bold;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span style="font-family: 'Courier New Bold', monospace; font-size: 13.2px; font-style: normal;">sed -e 's/camel/dune buggy/g' transportation.txt</span></span></span></span> <br/><span class="epub__BoldItalic" style="background-color: white; font-family: 'Courier New Bold Italic', monospace; font-size: 13.2px; font-style: italic; font-weight: bold;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span style="font-family: 'Courier New Bold', monospace; font-size: 13.2px; font-style: normal;">s=substitute</span></span></span></span> <br/><span class="epub__BoldItalic" style="background-color: white; font-family: 'Courier New Bold Italic', monospace; font-size: 13.2px; font-style: italic; font-weight: bold;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span style="font-family: 'Courier New Bold', monospace; font-size: 13.2px; font-style: normal;">g=global(everywhere in the file)</span></span></span></span> <br/><span class="epub__BoldItalic" style="background-color: white; font-family: 'Courier New Bold Italic', monospace; font-size: 13.2px; font-style: italic; font-weight: bold;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span style="font-family: 'Courier New Bold', monospace; font-size: 13.2px; font-style: normal;"><br/></span></span></span></span> <span class="epub__BoldItalic" style="background-color: white; font-size: 13.2px; font-style: italic; font-weight: bold;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span style="font-size: 15px; font-style: normal; font-weight: normal; text-indent: 0.00266667px;"><span style="font-family: Arial, Helvetica, sans-serif;">If I wanted to delete lines 4 through 17 in the file longtext.txt, I would do this:</span></span></span></span></span> <br/><span class="epub__BoldItalic" style="background-color: white; font-family: 'Courier New Bold Italic', monospace; font-size: 13.2px; font-style: italic; font-weight: bold;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span style="font-family: 'Courier New Bold', monospace; font-size: 13.2px; font-style: normal;">sed -e '4,17d' longtext.txt</span></span></span></span> <br/><span class="epub__BoldItalic" style="background-color: white; font-family: 'Courier New Bold Italic', monospace; font-size: 13.2px; font-style: italic; font-weight: bold;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span class="epub__BoldItalic" style="font-size: 13.2px;"><span style="font-family: 'Courier New Bold', monospace; font-size: 13.2px; font-style: normal;"><br/></span></span></span></span> <span style="font-family: Arial, Helvetica, sans-serif;">You can use other things in place of the line numbers such as regex</span> <br/><br/><span style="font-family: Arial, Helvetica, sans-serif;">Awk</span><br/><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; font-size: 15px; text-indent: 0.00266667px;">A</span><span style="background-color: white; font-size: 15px; text-indent: 0.00266667px;"> small programming language for processing strings. It takes in text, transforms it in whatever way you tell it to, and then outputs the transformed text</span></span> <br/><span style="background-color: white; font-size: 15px; text-indent: 0.00266667px;"><span style="font-family: Arial, Helvetica, sans-serif;"><br/></span></span><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; font-size: 15px; text-indent: 0.00266667px;">The most common use of&nbsp;</span><code style="background-color: white; font-size: 15px; text-indent: 0.00266667px;">awk</code><a href="https://www.blogger.com/null" name="such as" style="background-color: white; color: #e98300; font-size: 15px; text-indent: 0.00266667px; transition: color 0.2s ease-out;"></a><span style="background-color: white; font-size: 15px; text-indent: 0.00266667px;">&nbsp;is to manipulate files that consist of fields separated by delimiters, such as a comma separated values (CSV) or configuration file</span></span> <br/><span style="background-color: white; font-size: 15px; text-indent: 0.00266667px;"><span style="font-family: Arial, Helvetica, sans-serif;"><br/></span></span><span style="background-color: white; font-size: 15px; text-indent: 0.00266667px;"><span style="font-family: Arial, Helvetica, sans-serif;">What if we had a comma-delimited file containing names of things on my desk, a category for each, a color for each, and a date corresponding to the last time I picked that item up. That is 4 columns: name, category, color, and date. If I only really cared about the names and dates, then I could use awk to process the file quickly and list just these for me, like this:</span></span> <br/><span style="background-color: white; font-family: 'Courier New Bold', monospace; font-size: 0.88em; font-weight: bold;"><br/></span> <span style="background-color: white; font-family: 'Courier New Bold', monospace; font-size: 0.88em; font-weight: bold;">awk -F',' '{print $1, "was last picked up on", $4}' deskstuff.txt</span> <br/><span style="background-color: white; font-family: 'Courier New Bold', monospace; font-size: 0.88em; font-weight: bold;">-F defines the delimeter(',')</span> <br/><span style="background-color: white; font-family: 'Courier New Bold', monospace; font-size: 0.88em; font-weight: bold;">You can define multiple delimiters:&nbsp;</span> <span style="background-color: white; font-family: 'courier New', monospace; font-size: 15px; text-indent: 0.00266667px;">-F'[;,-]'</span> </div> </article> <footer class="site-footer"> <div class="container"> <ul class="social"> <li><a href="http://github.com/agaro1121" target="_blank"><i class="icon icon-github"></i></a></li> <li><a href="http://linkedin.com/in/anthony-garo-b9781636" target="_blank"><i class="icon icon-linkedin"></i></a></li> <li><a href="http://twitter.com/dametisbrown" target="_blank"><i class="icon icon-twitter"></i></a></li> </ul> <p> <small>&copy;2016 All rights reserved. Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and ♥</small> </p> </div> </footer> </main> <script src="/assets/js/jquery-2.1.1.js"></script> <script src="/assets/js/main.js"></script> </body> </html><!-- by nandomoreira.me -->